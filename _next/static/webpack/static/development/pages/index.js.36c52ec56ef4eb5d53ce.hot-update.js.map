{"version":3,"file":"static/webpack/static/development/pages/index.js.36c52ec56ef4eb5d53ce.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import React from \"react\";\nimport styled, { css } from \"styled-components\";\nimport axios from \"axios\";\nimport { Sunburst } from \"react-vis\";\nimport randomColor from \"randomcolor\";\nimport Head from \"../components/Head\";\n\nconst Document = styled.div``;\nconst Header = styled.div``;\nconst Tip = styled.div`\n  display: flex;\n  color: #fff;\n  background: #000;\n  align-items: center;\n  padding: 5px;\n  position: absolute;\n  ${({ value }) => {\n    const { radius, angle, angle0 } = value;\n    const truedAngle = (angle + angle0) / 2;\n    const position = {\n      x: `${radius * Math.cos(truedAngle) + 400}px`,\n      y: `${radius * Math.sin(truedAngle) + 400}px`,\n    };\n    return css`\n      bottom: ${position.y};\n      left: ${position.x};\n    `;\n  }}\n`;\n\nconst Footer = styled.div``;\n\nconst colors = randomColor({ luminosity: \"light\", count: 300 });\n\nexport default class Home extends React.PureComponent {\n  state = {\n    data: {},\n    tip: false,\n  };\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  async loadData() {\n    const res = await axios.get(\"./static/data.json\");\n    this.setState({ data: await res.data });\n  }\n\n  render() {\n    const { data, tip } = this.state;\n\n    return (\n      <Document>\n        <Header>資料申請小幫手</Header>\n        <Head title=\"資料申請小幫手\" />\n        <div>View on GitHub</div>\n        {data && (\n          <Sunburst\n            data={data}\n            style={{ stroke: \"#fff\", position: \"relative\" }}\n            onValueMouseOver={v =>\n              this.setState({ tip: v.x && v.y ? v : false })\n            }\n            // onValueMouseOut={() => this.setState({ tip: false })}\n            height={800}\n            width={800}\n            margin={{ top: 50, bottom: 50, left: 50, right: 50 }}\n            getSize={d => d.value}\n            getColor={d => colors[d.idx]}\n          >\n            {tip && (<Tip value={tip}>{tip.name}</Tip>)}\n          </Sunburst>\n        )}\n        <Footer>我想要更多</Footer>\n      </Document>\n    );\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;;;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AAIA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AAFA;;;;;;AAKA;AACA;AACA;;;;;;;;;;;;;AAGA;AACA;;AADA;AACA;;AAAA;AACA;;;;AADA;;;AAAA;AACA;;;;;;;;;;;;;;;;;AAEA;AAAA;AACA;AADA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AADA;AAHA;AAOA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;AA3CA;AACA;;;;;A","sourceRoot":""}