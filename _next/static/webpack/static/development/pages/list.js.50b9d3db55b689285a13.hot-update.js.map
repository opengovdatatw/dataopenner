{"version":3,"file":"static/webpack/static/development/pages/list.js.50b9d3db55b689285a13.hot-update.js","sources":["webpack:///./pages/list.js"],"sourcesContent":["import _ from \"lodash\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport styled from \"styled-components\";\nimport Link from \"next/link\";\nimport Head from \"../components/Head\";\nimport Rank from \"../components/Rank\";\nimport RankSunburst from \"../components/RankSunburst\";\n\nconst Topbar = styled.div`\n  height: 20px;\n`;\n\nconst Title = styled.div`\n  font-size: 1.5em;\n  padding: 3px 10px 3px 10px;\n  background: #ffffff;\n  display: inline-block;\n  border-radius: 3px;\n`;\n\nconst Document = styled.div`\n`;\n\nconst Header = styled.div`\n  width: 100%;\n  background-image: url(\"./static/background.jpg\");\n  background-size: cover;\n  background-position: center center;\n`;\n\nconst HeaderBackground = styled.div`\n  width: 100%;\n  padding-bottom: 5%;\n  background-color: rgba(10, 10, 10, 0.6);\n`;\n\nconst Container = styled.div`\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n`;\n\nconst Main = styled.div`\n  position: absolute;\n  top: 80px;\n  left: 0;\n  width: 50%;\n  height: calc(100% - 80px);\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  justify-content: center;\n`;\n\nconst RankPanel = styled(Rank)`\n  margin-right: 0;\n`;\n\nconst GithubButton = styled.a`\n  color: #ffffff;\n  padding: 5px 0;\n  display: block;\n  &:hover {\n    color: #ffffff;\n  }\n`;\n\nexport default class Home extends React.PureComponent {\n  state = {\n    data: null,\n  };\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  async loadData() {\n    const res = await axios.get(\"./static/data.json\");\n    const raw = await res.data;\n    const fields = _.pullAt(raw, [0])[0];\n    const data = _.map(raw, item => _.mapKeys(item, (__, key) => fields[key]));\n    this.setState({ data });\n  }\n\n  renderList = () => {\n    const { data } = this.state;\n    return _.map(data, item => (\n      <div key={item.name}>{item.name}</div>\n    ));\n  }\n\n  render() {\n    return (\n      <Document>\n        <Head title=\"資料申請小幫手\" />\n        <Header>\n          <HeaderBackground>\n            <Topbar />\n            <div className=\"container\">\n              <Title>資料申請小幫手</Title>\n              <GithubButton\n                target=\"_blank\"\n                href=\"https://github.com/opengovdatatw/dataopener\"\n              >\n                View on GitHub\n              </GithubButton>\n            </div>\n          </HeaderBackground>\n        </Header>\n        <Container className=\"container\">{this.renderList()}</Container>\n      </Document>\n    );\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;;;AACA;AAAA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AAAA;AACA;AAOA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AAMA;AAAA;AAAA;AAAA;AACA;AAKA;AAAA;AAAA;AAAA;AACA;AAMA;AAAA;AAAA;AAAA;AACA;AAWA;AAAA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AAAA;AACA;AAQA;;;;;;;;;;;;;;;;;AACA;AACA;AADA;AAgBA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAGA;;;;;;AAjBA;AACA;AACA;;;;;;;;;;;;;AAGA;AACA;;AADA;;AACA;AACA;;AADA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;AASA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;AA7CA;AACA;;;;;A","sourceRoot":""}